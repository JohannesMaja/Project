import"../chunks/DsnmJJEf.js";import"../chunks/q7MqxBh8.js";import{C as re,o as fe,J as K,p as C,B as oe,q as de,a5 as E,aa as ce,ab as _e,ac as he,ad as Z,I as L,A as O,D as me,ae as be,x as z,af as ge,ag as N,ah as pe,ai as F,aj as P,ak as te,i as Ee,al as ye,am as le,an as xe,ao as Te,ap as Ie,aq as $,z as ne,G as ke,ar as we,as as Ae,at as Se,U as Me,au as Ce,t as De,e as Ne,av as Re,aw as He,W as J,X as U,Z as S,$ as M,a0 as k,ax as q,a1 as Q}from"../chunks/i39hIJMg.js";import{s as j}from"../chunks/D88rB49F.js";import{r as Ve}from"../chunks/BosHwl1j.js";import{e as B}from"../chunks/rey7zTmY.js";function ee(e,r){return r}function Oe(e,r,a){for(var u=e.items,v=[],n=r.length,f=0;f<n;f++)we(r[f].e,v,!0);var c=n>0&&v.length===0&&a!==null;if(c){var m=a.parentNode;Ae(m),m.append(a),u.clear(),w(e,r[0].prev,r[n-1].next)}Se(v,()=>{for(var d=0;d<n;d++){var g=r[d];c||(u.delete(g.k),w(e,g.prev,g.next)),ne(g.e,!c)}})}function ae(e,r,a,u,v,n=null){var f=e,c={flags:r,items:new Map,first:null};{var m=e;f=C?K(oe(m)):m.appendChild(re())}C&&de();var d=null,g=!1,T=new Map,s=ce(()=>{var i=a();return Ee(i)?i:i==null?[]:te(i)}),_,t;function l(){qe(t,_,c,T,f,v,r,u,a),n!==null&&(_.length===0?d?le(d):d=z(()=>n(f)):d!==null&&xe(d,()=>{d=null}))}fe(()=>{t??=Me,_=E(s);var i=_.length;if(g&&i===0)return;g=i===0;let y=!1;if(C){var p=_e(f)===he;p!==(i===0)&&(f=Z(),K(f),L(!1),y=!0)}if(C){for(var o=null,b,h=0;h<i;h++){if(O.nodeType===me&&O.data===be){f=O,y=!0,L(!1);break}var A=_[h],I=u(A,h);b=G(O,c,o,null,A,I,h,v,r,a),c.items.set(I,b),o=b}i>0&&K(Z())}if(C)i===0&&n&&(d=z(()=>n(f)));else if(ge()){var D=new Set,x=N;for(h=0;h<i;h+=1){A=_[h],I=u(A,h);var R=c.items.get(I)??T.get(I);R?se(R,A,h):(b=G(null,c,null,null,A,I,h,v,r,a,!0),T.set(I,b)),D.add(I)}for(const[H,V]of c.items)D.has(H)||x.skipped_effects.add(V.e);x.add_callback(l)}else l();y&&L(!0),E(s)}),C&&(f=O)}function qe(e,r,a,u,v,n,f,c,m){var d=r.length,g=a.items,T=a.first,s=T,_,t=null,l=[],i=[],y,p,o,b;for(b=0;b<d;b+=1){if(y=r[b],p=c(y,b),o=g.get(p),o===void 0){var h=u.get(p);if(h!==void 0){u.delete(p),g.set(p,h);var A=t?t.next:s;w(a,t,h),w(a,h,A),W(h,A,v),t=h}else{var I=s?s.e.nodes_start:v;t=G(I,a,t,t===null?a.first:t.next,y,p,b,n,f,m)}g.set(p,t),l=[],i=[],s=t.next;continue}if(se(o,y,b),(o.e.f&$)!==0&&le(o.e),o!==s){if(_!==void 0&&_.has(o)){if(l.length<i.length){var D=i[0],x;t=D.prev;var R=l[0],H=l[l.length-1];for(x=0;x<l.length;x+=1)W(l[x],D,v);for(x=0;x<i.length;x+=1)_.delete(i[x]);w(a,R.prev,H.next),w(a,t,R),w(a,H,D),s=D,t=H,b-=1,l=[],i=[]}else _.delete(o),W(o,s,v),w(a,o.prev,o.next),w(a,o,t===null?a.first:t.next),w(a,t,o),t=o;continue}for(l=[],i=[];s!==null&&s.k!==p;)(s.e.f&$)===0&&(_??=new Set).add(s),i.push(s),s=s.next;if(s===null)continue;o=s}l.push(o),t=o,s=o.next}if(s!==null||_!==void 0){for(var V=_===void 0?[]:te(_);s!==null;)(s.e.f&$)===0&&V.push(s),s=s.next;var ie=V.length;if(ie>0){var ve=d===0?v:null;Oe(a,V,ve)}}e.first=a.first&&a.first.e,e.last=t&&t.e;for(var ue of u.values())ne(ue.e);u.clear()}function se(e,r,a,u){pe(e.v,r),e.i=a}function G(e,r,a,u,v,n,f,c,m,d,g){var T=(m&Te)!==0,s=(m&Ie)===0,_=T?s?F(v,!1,!1):P(v):v,t=(m&ye)===0?f:P(f),l={i:t,v:_,k:n,a:null,e:null,prev:a,next:u};try{if(e===null){var i=document.createDocumentFragment();i.append(e=re())}return l.e=z(()=>c(e,_,t,d),C),l.e.prev=a&&a.e,l.e.next=u&&u.e,a===null?g||(r.first=l):(a.next=l,a.e.next=l.e),u!==null&&(u.prev=l,u.e.prev=l.e),l}finally{}}function W(e,r,a){for(var u=e.next?e.next.e.nodes_start:a,v=r?r.e.nodes_start:a,n=e.e.nodes_start;n!==null&&n!==u;){var f=ke(n);v.before(n),n=f}}function w(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function Be(e,r,a=r){var u=new WeakSet;Ce(e,"input",async v=>{var n=v?e.defaultValue:e.value;if(n=X(e)?Y(n):n,a(n),N!==null&&u.add(N),await De(),n!==(n=r())){var f=e.selectionStart,c=e.selectionEnd,m=e.value.length;if(e.value=n??"",c!==null){var d=e.value.length;f===c&&c===m&&d>m?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=f,e.selectionEnd=Math.min(c,d))}}}),(C&&e.defaultValue!==e.value||Ne(r)==null&&e.value)&&(a(X(e)?Y(e.value):e.value),N!==null&&u.add(N)),Re(()=>{var v=r();if(e===document.activeElement){var n=He??N;if(u.has(n))return}X(e)&&v===Y(e.value)||e.type==="date"&&!v&&!e.value||v!==e.value&&(e.value=v??"")})}function X(e){var r=e.type;return r==="number"||r==="range"}function Y(e){return e===""?null:+e}var Ke=J("<li> <div><button>Köp</button> <button>Ta bort</button></div></li>"),Le=J("<li> <div><button>Ångra köp</button> <button>Ta bort</button></div></li>"),$e=J('<main class="container svelte-yeugd1"><h1 class="header svelte-yeugd1">Shoppinglist</h1> <div class="categories_container svelte-yeugd1"><section class="svelte-yeugd1"><input type="text" placeholder="Köp en vara..."/> <button>Lägg till</button> <h2 class="second_header svelte-yeugd1">Varor att köpa</h2> <ul></ul></section> <section class="svelte-yeugd1"><h2 class="third_header svelte-yeugd1">Köpta varor</h2> <ul></ul></section></div></main>');function Ge(e){let r=F([]),a=F("");function u(){const t=E(a).trim();if(t===""){alert("Skriv en vara");return}q(r,[...E(r),{id:Date.now(),name:t,bought:!1}]),q(a,"")}function v(t){q(r,E(r).filter(l=>l.id!==t))}function n(t){q(r,E(r).map(l=>l.id===t?{...l,bought:!l.bought}:l))}var f=$e(),c=S(M(f),2),m=M(c),d=M(m);Ve(d);var g=S(d,2),T=S(g,4);ae(T,5,()=>E(r).filter(t=>!t.bought),ee,(t,l)=>{var i=Ke(),y=M(i),p=S(y),o=M(p),b=S(o,2);k(p),k(i),Q(()=>j(y,`${E(l).name??""} `)),B("click",o,()=>n(E(l).id)),B("click",b,()=>v(E(l).id)),U(t,i)}),k(T),k(m);var s=S(m,2),_=S(M(s),2);ae(_,5,()=>E(r).filter(t=>t.bought),ee,(t,l)=>{var i=Le(),y=M(i),p=S(y),o=M(p),b=S(o,2);k(p),k(i),Q(()=>j(y,`${E(l).name??""} `)),B("click",o,()=>n(E(l).id)),B("click",b,()=>v(E(l).id)),U(t,i)}),k(_),k(s),k(c),k(f),Be(d,()=>E(a),t=>q(a,t)),B("click",g,u),U(e,f)}export{Ge as component};
